{% extends 'arduino/base.html' %}

{% block title %}Iniciar sesión{% endblock %}

{% block content %}
  <div class="row justify-content-center">
    <div class="col-md-6">
      <div class="card">
        <div class="card-body">
          <h4 class="card-title mb-3">Iniciar sesión</h4>
          <form method="post">
            {% csrf_token %}
            {% if form.non_field_errors %}
              <div class="alert alert-danger">{{ form.non_field_errors }}</div>
            {% endif %}
            <div class="mb-3">
              <label class="form-label">Usuario</label>
              <input class="form-control" type="text" name="username" value="{{ form.username.value|default_if_none:'' }}" required />
            </div>
            <div class="mb-3">
              <label class="form-label">Contraseña</label>
              <div class="input-group">
                <input id="password-input" class="form-control" type="password" name="password" required />
                <button id="toggle-password" class="btn btn-outline-secondary" type="button" aria-label="Mostrar contraseña" title="Mostrar contraseña">
                  <!-- simple eye icon (SVG) -->
                  <svg id="eye-open" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                    <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8z"/>
                    <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5z" fill="#fff"/>
                  </svg>
                  <svg id="eye-closed" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16" style="display:none;">
                    <path d="M13.359 11.238C12.026 12.326 10.128 13 8 13c-5 0-8-5-8-5a15.82 15.82 0 0 1 3.212-3.06L1.146 1.854 2.56.44l13 13-1.5 1.5-1.701-1.702z"/>
                    <path d="M11.53 9.1a3 3 0 0 1-4.63-4.63L11.53 9.1z"/>
                  </svg>
                </button>
              </div>
            </div>
            <button class="btn btn-primary" type="submit">Entrar</button>
          </form>
        </div>
      </div>
    </div>
  </div>
{% endblock %}

{% block extra_scripts %}
  {% load static %}
  <script src="{% static 'arduino/scripts/login.js' %}"></script>
{% endblock %}
